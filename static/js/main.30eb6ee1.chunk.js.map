{"version":3,"sources":["services/userAPI.js","components/loading.js","pages/login.js","components/header.js","services/searchAlbumsAPI.js","components/searchBar.js","components/albumsList.js","pages/search.js","services/musicsAPI.js","services/favoriteSongsAPI.js","components/favoriteChkBox.js","components/musicCard.js","pages/album.js","components/favTrackList.js","pages/favorites.js","pages/profile.js","pages/profile-edit.js","pages/not-found.js","App.js","index.js"],"names":["USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","Loading","Component","Login","handleChange","value","target","length","setState","buttonDisabled","handleLogin","a","state","loading","redirect","this","htmlFor","id","type","onChange","disabled","onClick","to","Header","fetchUsername","className","searchAlbumsAPI","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","SearchBar","search","isButtonDisabled","handleSubmit","saveAlbums","props","placeholder","AlbumsList","albums","album","src","alt","Search","getMusics","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","getFavoriteSongs","addSong","song","removeSong","filter","s","trackId","FavoriteChkBox","handleClick","albumTracks","favTracks","some","track","parseInt","trackToRemove","find","favoriteCheck","favTrack","isFav","currTrack","checked","defaultChecked","MusicCard","trackName","previewUrl","controls","kind","favTrackListLoad","loaded","updateLoading","Album","match","params","albumInfo","FavTrackList","saveFavTracks","favListReload","Favorites","renderFavTracks","console","log","Profile","ProfileEdit","NotFound","App","exact","path","component","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iRAAMA,EAAW,OAKXC,EAAW,SAACC,GAAD,OAAUC,aAAaC,QAAQJ,EAAUK,KAAKC,UAAUJ,KASnEK,EAAkB,SAACC,GAAD,OAAc,SAACC,GACrCC,YAAW,WACTD,EAASD,KAfG,QAmBHG,EAAU,kBAAM,IAAIC,SAAQ,SAACC,GACxC,IAAIX,EAjBiBG,KAAKS,MAAMX,aAAaY,QAAQf,IAkBxC,OAATE,IACFA,EAAO,IAETK,EAAgBL,EAAhBK,CAAsBM,OAGXG,EAAa,SAACd,GAAD,OAAU,IAAIU,SAAQ,SAACC,GAO/CZ,EAAS,2BANS,CAChBgB,KAAM,GACNC,MAAO,GACPC,MAAO,GACPC,YAAa,KAEalB,IAC5BK,EAlCqB,KAkCrBA,CAAgCM,O,OClC5BQ,E,4JACJ,WACE,OAAO,qD,GAFWC,aAKPD,ICqEAE,E,kDAtEb,aAAe,IAAD,8BACZ,gBAUFC,aAAe,YAAiB,IACtBC,EADqB,EAAbC,OACRD,MAEJA,EAAME,QADQ,EAEhB,EAAKC,SAAS,CACZC,gBAAgB,EAChBZ,KAAMQ,IAGR,EAAKG,SAAS,CACZC,gBAAgB,EAChBZ,KAAMQ,KAtBE,EA2BdK,YA3Bc,sBA2BA,4BAAAC,EAAA,6DACJd,EAAS,EAAKe,MAAdf,KACR,EAAKW,SAAS,CACZK,SAAS,IAHC,SAKNjB,EAAW,CACfC,SANU,OAQZ,EAAKW,SAAS,CACZM,UAAU,EACVD,SAAS,IAVC,2CAxBZ,EAAKD,MAAQ,CACXH,gBAAgB,EAChBZ,KAAM,GACNgB,SAAS,EACTC,UAAU,GAPA,E,0CAyCd,WACE,MAA8CC,KAAKH,MAA3CH,EAAR,EAAQA,eAAgBI,EAAxB,EAAwBA,QAASC,EAAjC,EAAiCA,SACjC,OAAID,EAAgB,cAAC,EAAD,IAElB,sBAAK,cAAY,aAAjB,UACE,iCACE,wBAAOG,QAAQ,mBAAf,iBAEE,uBACE,cAAY,mBACZC,GAAG,mBACHC,KAAK,OACLC,SAAWJ,KAAKX,kBAGpB,wBACEgB,SAAWX,EACX,cAAY,sBACZS,KAAK,SACLG,QAAUN,KAAKL,YAJjB,uBASDI,EAAW,cAAC,IAAD,CAAUQ,GAAG,gCAAmC,U,GAlEhDpB,aCwDLqB,G,wDAtDb,aAAe,IAAD,8BACZ,gBAWFC,cAZc,sBAYE,4BAAAb,EAAA,6DACd,EAAKH,SAAS,CACZK,SAAS,IAFG,SAIKtB,IAJL,OAIRT,EAJQ,OAKd,EAAK0B,SAAS,CACZK,SAAS,EACT/B,SAPY,2CAVd,EAAK8B,MAAQ,CACX9B,KAAM,GACN+B,SAAS,GAJC,E,qDAQd,WACEE,KAAKS,kB,oBAcP,WACE,MAA0BT,KAAKH,MAAvB9B,EAAR,EAAQA,KAAM+B,EAAd,EAAcA,QACd,OACE,yBACE,cAAY,mBACZY,UAAU,eAFZ,UAIE,cAAC,IAAD,CACEH,GAAG,8BACH,cAAY,iBAFd,oBAMA,cAAC,IAAD,CACEA,GAAG,iCACH,cAAY,oBAFd,uBAMA,cAAC,IAAD,CACEA,GAAG,+BACH,cAAY,kBAFd,qBAMET,EAAU,cAAC,EAAD,IACR,sBAAM,cAAY,mBAAlB,SAAsC/B,EAAKe,c,GAlDlCK,cCNfwB,EAAe,uCAAG,WAAOC,GAAP,yBAAAhB,EAAA,6DAChBiB,EAAgBC,UAAUF,GAAQG,WAAW,MAAO,KAEpDC,EAHgB,4DAGoDH,EAHpD,qCAKII,MAAMD,GALV,cAKhBE,EALgB,gBAOIA,EAAYC,OAPhB,uBAOdC,EAPc,EAOdA,QAEF/C,EAAW+C,EAAQC,KACvB,kBASO,CACLC,SAVF,EACEA,SAUAC,WAXF,EAEEA,WAUAC,aAZF,EAGEA,aAUAC,eAbF,EAIEA,eAUAC,gBAdF,EAKEA,gBAUAC,cAfF,EAMEA,cAUAC,YAhBF,EAOEA,YAUAC,WAjBF,EAQEA,eAlBkB,kBA8BfxD,GA9Be,4CAAH,sDAiCNsC,ICiDAmB,E,kDA5Eb,aAAe,IAAD,8BACZ,gBASFzC,aAAe,YAAiB,IAAdE,EAAa,EAAbA,OAChB,EAAKE,SAAS,CACZsC,OAAQxC,EAAOD,QACd,WACkB,EAAKO,MAAhBkC,OACGvC,QAAU,EACnB,EAAKC,SAAS,CACZuC,kBAAkB,IAGpB,EAAKvC,SAAS,CACZuC,kBAAkB,QArBZ,EA2BdC,aA3Bc,sBA2BC,8BAAArC,EAAA,sDACLmC,EAAW,EAAKlC,MAAhBkC,OACAG,EAAe,EAAKC,MAApBD,WACR,EAAKzC,SAAS,CACZK,SAAS,GADX,sBAEG,4BAAAF,EAAA,sEACsBe,EAAgBoB,GADtC,OACK1D,EADL,OAED6D,EAAW7D,EAAU0D,GACrB,EAAKtC,SAAS,CACZK,SAAS,IAJV,4CALU,2CAxBb,EAAKD,MAAQ,CACXmC,kBAAkB,EAClBD,OAAQ,GACRjC,SAAS,GANC,E,0CAyCd,WACE,MAAsCE,KAAKH,MAAnCC,EAAR,EAAQA,QAASkC,EAAjB,EAAiBA,iBAEjB,OAAIlC,EACK,cAAC,EAAD,IAGP,qBAAKY,UAAU,eAAf,SACE,iCACE,uBACEP,KAAK,SACLD,GAAG,SACHpB,KAAK,SACLsD,YAAY,kBACZ,cAAY,sBACZhC,SAAWJ,KAAKX,eAElB,wBACEc,KAAK,SACL,cAAY,uBACZE,SAAW2B,EACX1B,QAAUN,KAAKiC,aAJjB,gC,GA3Dc9C,aCAlBkD,E,4JACJ,WACE,MAA2BrC,KAAKmC,MAAxBJ,EAAR,EAAQA,OAAQO,EAAhB,EAAgBA,OAChB,OAAIA,EAAO9C,OAEP,oCACE,kEAAgCuC,KAChC,qBAAKrB,UAAU,eAAf,SACG4B,EAAOjB,KAAI,SAACkB,GAAD,OACV,eAAC,IAAD,CAEEhC,GAAE,qCAAiCgC,EAAMf,cACzCd,UAAU,aACV,sCAA+B6B,EAAMf,cAJvC,UAME,mBAAGd,UAAU,aAAb,SAA2B6B,EAAMd,iBACjC,qBAAKe,IAAMD,EAAMZ,cAAgBc,IAAI,YAN/BF,EAAMf,sBAetB,mE,GAzBmBrC,aAmCVkD,ICPAK,E,kDA3Bb,aAAe,IAAD,8BACZ,gBAQFR,WAAa,SAACI,EAAQP,GACpB,EAAKtC,SAAS,CACZ6C,SACAP,YATF,EAAKlC,MAAQ,CACXyC,OAAQ,GACRP,OAAQ,IALE,E,0CAgBd,WACE,MAA2B/B,KAAKH,MAAxBkC,EAAR,EAAQA,OAAQO,EAAhB,EAAgBA,OAChB,OACE,sBAAK,cAAY,cAAjB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAWJ,WAAalC,KAAKkC,aAC7B,cAAC,EAAD,CAAYH,OAASA,EAASO,OAASA,W,GAvB1BnD,a,QCLfwD,EAAS,uCAAG,WAAOzC,GAAP,iBAAAN,EAAA,sEACMqB,MAAM,sCAAD,OAAuCf,EAAvC,iBADX,cACV0C,EADU,gBAEUA,EAAQzB,OAFlB,cAEV0B,EAFU,yBAGTA,EAAYzB,SAHH,2CAAH,sDAMAuB,I,QCNTG,EAAqB,iBAItB5E,KAAKS,MAAMX,aAAaY,QAAQkE,KACnC9E,aAAaC,QAAQ6E,EAAoB5E,KAAKC,UAAU,KAE1D,IAAM4E,EAAoB,kBAAM7E,KAAKS,MAAMX,aAAaY,QAAQkE,KAE1DE,EAAoB,SAACC,GAAD,OAAmBjF,aAC1CC,QAAQ6E,EAAoB5E,KAAKC,UAAU8E,KASxC7E,EAAkB,SAACC,GAAD,OAAc,SAACC,GACrCC,YAAW,WACTD,EAASD,KApBG,OAwBH6E,EAAmB,kBAAM,IAAIzE,SAAQ,SAACC,GACjD,IAAMuE,EAAgBF,IACtB3E,EAAgB6E,EAAhB7E,CAA+BM,OAGpByE,EAAU,SAACC,GAAD,OAAU,IAAI3E,SAAQ,SAACC,GAC5C,GAAI0E,EAAM,CACR,IAAMH,EAAgBF,IACtBC,EAAkB,GAAD,mBAAKC,GAAL,CAAoBG,KAEvChF,EAjCqB,KAiCrBA,CAAgCM,OAGrB2E,EAAa,SAACD,GAAD,OAAU,IAAI3E,SAAQ,SAACC,GAC/C,IAAMuE,EAAgBF,IACtBC,EAAkBC,EAAcK,QAAO,SAACC,GAAD,OAAOA,EAAEC,UAAYJ,EAAKI,YACjEpF,EAvCqB,KAuCrBA,CAAgCM,OCpC5B+E,E,kDACJ,aAAe,IAAD,8BACZ,gBAYFC,YAbc,uCAaA,uCAAA9D,EAAA,6DAASL,EAAT,EAASA,OACboE,EAAgB,EAAKxB,MAArBwB,YACAzD,EAAOX,EAAPW,GACR,EAAKT,SAAS,CACZK,SAAS,IAJC,SAOYoD,IAPZ,UAONU,EAPM,QASEA,EAAUC,MAAK,SAACC,GAAD,OAAWA,EAAMN,UAC1CO,SAAS7D,EAAI,OAVL,wBAaJ8D,EAAgBL,EACnBM,MAAK,SAACH,GAAD,OAAWA,EAAMN,UAAYO,SAAS7D,EAAI,OAdxC,UAeJmD,EAAWW,GAfP,yBAgBJ,EAAKE,gBAhBD,uCAkBJC,EAAWR,EACdM,MAAK,SAACH,GAAD,OAAWA,EAAMN,UAAYO,SAAS7D,EAAI,OAnBxC,UAoBJiD,EAAQgB,GApBJ,yBAqBJ,EAAKD,gBArBD,4CAbA,wDAsCdA,cAtCc,sBAsCE,gCAAAtE,EAAA,6DACNkE,EAAU,EAAK3B,MAAf2B,MADM,SAEUZ,IAFV,OAERU,EAFQ,OAGRQ,EAAQR,EAAUC,MAAK,SAACQ,GAAD,OAAeA,EAAUb,UAAYM,EAAMN,WACxE,EAAK/D,SAAS,CACZ6E,QAASF,EACTtE,SAAS,IANG,2CAnCd,EAAKD,MAAQ,CACXyE,SAAS,EACTxE,SAAS,GALC,E,qDASd,WACEE,KAAKkE,kB,oBAsCP,WACE,IAAQJ,EAAU9D,KAAKmC,MAAf2B,MACR,EAA6B9D,KAAKH,MAA1ByE,EAAR,EAAQA,QACR,OADA,EAAiBxE,QAGb,cAAC,EAAD,IAIF,wBACEG,QAAU6D,EAAMN,QADlB,qBAIE,uBACEe,eAAiBD,EACjBnE,KAAK,WACLD,GAAK4D,EAAMN,QACX,uCAAgCM,EAAMN,SACtClD,QAAUN,KAAK0D,qB,GAnEIvE,aAiFdsE,ICvCAe,E,kDA1Cb,aAAe,IAAD,8BACZ,gBAEK3E,MAAQ,GAHD,E,0CAQd,WAAU,IAAD,OACC8D,EAAgB3D,KAAKmC,MAArBwB,YACR,OACE,qBAAKjD,UAAU,gBAAf,SACGiD,EAAYtC,KAAI,SAACyC,GAAD,OACf,gCACE,sCAAOA,EAAMW,aACb,wBACE,cAAY,kBACZjC,IAAMsB,EAAMY,WACZC,UAAQ,EAHV,UAKE,uBAAOC,KAAK,aALd,4CAOE,yCAPF,OAUA,cAAC,EAAD,CACEC,iBAAmB,EAAKC,OACxBnB,YAAcA,EACdG,MAAQA,EACRiB,cAAgB,EAAKA,kBAhBdjB,EAAMN,kB,GAdHrE,aCmET6F,E,kDA/Db,aAAe,IAAD,8BACZ,gBAYF/D,MAbc,sBAaN,8BAAArB,EAAA,6DACN,EAAKH,SAAS,CACZK,SAAS,IAEgBI,EAAW,EAAKiC,MAAnC8C,MAASC,OAAUhF,GAJrB,SAKcyC,EAAUzC,GALxB,OAKAqC,EALA,OAMN,EAAK9C,SAAS,CACZ8C,UACC,WACD,EAAK9C,SAAS,CACZK,SAAS,OAVP,2CAVN,EAAKD,MAAQ,CACX0C,MAAO,GACPzC,SAAS,GALC,E,qDASd,WACEE,KAAKiB,U,oBAkBP,WACE,MAA2BjB,KAAKH,MAAxB0C,EAAR,EAAQA,MAAOzC,EAAf,EAAeA,QACf,GAAIyC,EAAM/C,OAAS,EAAG,CACpB,kBAAoC+C,GAA7B4C,EAAP,KAAqBxB,EAArB,WACA,OACE,sBAAK,cAAY,aAAjB,UACE,cAAC,EAAD,IACA,0BAASjD,UAAU,gBAAnB,UACE,oBAAI,cAAY,cAAhB,SAA+ByE,EAAU5D,aACzC,oBAAI,cAAY,aAAhB,SAA8B4D,EAAU1D,iBACxC,qBAAKe,IAAM2C,EAAUxD,cAAgBc,IAAI,UACxC3C,EACG,cAAC,EAAD,IACA,cAAC,EAAD,CAAW6D,YAAcA,UAMrC,OACE,qBAAK,cAAY,aAAjB,SACE,cAAC,EAAD,U,GAlDYxE,aC4BLiG,E,kDA7Bb,aAAe,IAAD,8BACZ,gBAYFC,cAbc,sBAaE,4BAAAzF,EAAA,sEACUsD,IADV,OACRU,EADQ,OAEd,EAAKnE,SAAS,CACZmE,cAHY,2CAVd,EAAK/D,MAAQ,CACX+D,UAAW,GACX9D,SAAS,GALC,E,qDASd,WACEE,KAAKqF,kB,oBAUP,WACE,MAA+BrF,KAAKH,MAA5B+D,EAAR,EAAQA,UACR,OADA,EAAmB9D,QAEV,cAAC,EAAD,IAEF,cAAC,EAAD,CAAW6D,YAAcC,EAAY0B,cAAgBtF,KAAK8E,a,GA1B1C3F,aC6BZoG,E,kDA3Bb,aAAe,IAAD,8BACZ,gBAOFC,gBARc,sBAQI,4BAAA5F,EAAA,sEACQsD,IADR,OACVU,EADU,OAEhB6B,QAAQC,IAAI9B,GAFI,2CALhB,EAAK/D,MAAQ,CACXC,SAAS,GAJC,E,0CAcd,WACE,IAAQA,EAAYE,KAAKH,MAAjBC,QACR,OACE,sBAAK,cAAY,iBAAjB,UACE,cAAC,EAAD,IACCA,EACG,cAAC,EAAD,IACA,cAAC,EAAD,W,GAtBYX,aCHlBwG,E,4JACJ,WACE,OACE,sBAAK,cAAY,eAAjB,UACE,cAAC,EAAD,IADF,iB,GAHgBxG,aAUPwG,ICVTC,E,4JACJ,WACE,OACE,sBAAK,cAAY,oBAAjB,UACE,cAAC,EAAD,IADF,sB,GAHoBzG,aAUXyG,ICXTC,G,4JACJ,WACE,OACE,qBAAK,cAAY,iBAAjB,2B,GAHiB1G,aASR0G,MCDTC,G,4JACJ,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEC,OAAK,EACLC,KAAK,uBACLC,UAAY7G,IAEd,cAAC,IAAD,CACE4G,KAAK,8BACLC,UAAYvD,IAEd,cAAC,IAAD,CACEsD,KAAK,iCACLC,UAAYjB,IAEd,cAAC,IAAD,CACEgB,KAAK,iCACLC,UAAYV,IAEd,cAAC,IAAD,CACES,KAAK,oCACLC,UAAYL,IAEd,cAAC,IAAD,CACEI,KAAK,+BACLC,UAAYN,IAEd,cAAC,IAAD,CACEK,KAAK,IACLC,UAAYJ,c,GAhCNK,IAAM/G,WAyCT2G,MC9CfK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.30eb6ee1.chunk.js","sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\n\nclass Loading extends Component {\n  render() {\n    return <span>Carregando...</span>;\n  }\n}\nexport default Loading;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport Loading from '../components/loading';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      buttonDisabled: true,\n      name: '',\n      loading: false,\n      redirect: false,\n    };\n  }\n\n  handleChange = ({ target }) => {\n    const { value } = target;\n    const minLength = 3;\n    if (value.length >= minLength) {\n      this.setState({\n        buttonDisabled: false,\n        name: value,\n      });\n    } else {\n      this.setState({\n        buttonDisabled: true,\n        name: value,\n      });\n    }\n  }\n\n  handleLogin = async () => {\n    const { name } = this.state;\n    this.setState({\n      loading: true,\n    });\n    await createUser({\n      name,\n    });\n    this.setState({\n      redirect: true,\n      loading: false,\n    });\n  }\n\n  render() {\n    const { buttonDisabled, loading, redirect } = this.state;\n    if (loading) return <Loading />;\n    return (\n      <div data-testid=\"page-login\">\n        <form>\n          <label htmlFor=\"login-name-input\">\n            Nome\n            <input\n              data-testid=\"login-name-input\"\n              id=\"login-name-input\"\n              type=\"text\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          <button\n            disabled={ buttonDisabled }\n            data-testid=\"login-submit-button\"\n            type=\"button\"\n            onClick={ this.handleLogin }\n          >\n            Entrar\n          </button>\n        </form>\n        {redirect ? <Redirect to=\"/project-soundsystem/search\" /> : ''}\n      </div>\n    );\n  }\n}\nexport default Login;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Loading from './loading';\nimport './style.css';\n\nclass Header extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: '',\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUsername();\n  }\n\n  fetchUsername = async () => {\n    this.setState({\n      loading: true,\n    });\n    const user = await getUser();\n    this.setState({\n      loading: false,\n      user,\n    });\n  }\n\n  render() {\n    const { user, loading } = this.state;\n    return (\n      <header\n        data-testid=\"header-component\"\n        className=\"space-evenly\"\n      >\n        <Link\n          to=\"/project-soundsystem/search\"\n          data-testid=\"link-to-search\"\n        >\n          Search\n        </Link>\n        <Link\n          to=\"/project-soundsystem/favorites\"\n          data-testid=\"link-to-favorites\"\n        >\n          Favorites\n        </Link>\n        <Link\n          to=\"/project-soundsystem/profile\"\n          data-testid=\"link-to-profile\"\n        >\n          Profile\n        </Link>\n        { loading ? <Loading />\n          : <span data-testid=\"header-user-name\">{user.name}</span> }\n      </header>\n    );\n  }\n}\nexport default Header;\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from './loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nclass SearchBar extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isButtonDisabled: true,\n      search: '',\n      loading: false,\n    };\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({\n      search: target.value,\n    }, () => {\n      const { search } = this.state;\n      if (search.length >= 2) {\n        this.setState({\n          isButtonDisabled: false,\n        });\n      } else {\n        this.setState({\n          isButtonDisabled: true,\n        });\n      }\n    });\n  }\n\n  handleSubmit = async () => {\n    const { search } = this.state;\n    const { saveAlbums } = this.props;\n    this.setState({\n      loading: true,\n    }, async () => {\n      const response = await searchAlbumsAPI(search);\n      saveAlbums(response, search);\n      this.setState({\n        loading: false,\n      });\n    });\n  }\n\n  render() {\n    const { loading, isButtonDisabled } = this.state;\n\n    if (loading) {\n      return <Loading />;\n    }\n    return (\n      <div className=\"space-evenly\">\n        <form>\n          <input\n            type=\"search\"\n            id=\"search\"\n            name=\"search\"\n            placeholder=\"Nome do artista\"\n            data-testid=\"search-artist-input\"\n            onChange={ this.handleChange }\n          />\n          <button\n            type=\"button\"\n            data-testid=\"search-artist-button\"\n            disabled={ isButtonDisabled }\n            onClick={ this.handleSubmit }\n          >\n            Pesquisar\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  saveAlbums: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './style.css';\n\nclass AlbumsList extends Component {\n  render() {\n    const { search, albums } = this.props;\n    if (albums.length) {\n      return (\n        <section>\n          <h1>{`Resultado de álbuns de: ${search}`}</h1>\n          <div className=\"space-evenly\">\n            {albums.map((album) => (\n              <Link\n                key={ album.collectionId }\n                to={ `/project-soundsystem/album/${album.collectionId}` }\n                className=\"album-card\"\n                data-testid={ `link-to-album-${album.collectionId}` }\n              >\n                <p className=\"font-small\">{album.collectionName}</p>\n                <img src={ album.artworkUrl100 } alt=\"album\" />\n              </Link>))}\n          </div>\n\n        </section>\n\n      );\n    }\n    return (\n      <p>Nenhum álbum foi encontrado</p>\n    );\n  }\n}\n\nAlbumsList.propTypes = {\n  search: PropTypes.string.isRequired,\n  albums: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default AlbumsList;\n","import React, { Component } from 'react';\nimport Header from '../components/header';\nimport SearchBar from '../components/searchBar';\nimport AlbumsList from '../components/albumsList';\n\nclass Search extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      albums: [],\n      search: '',\n    };\n  }\n\n  saveAlbums = (albums, search) => {\n    this.setState({\n      albums,\n      search,\n    });\n  }\n\n  render() {\n    const { search, albums } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        <SearchBar saveAlbums={ this.saveAlbums } />\n        <AlbumsList search={ search } albums={ albums } />\n      </div>\n    );\n  }\n}\nexport default Search;\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from './loading';\nimport { getFavoriteSongs, addSong, removeSong } from '../services/favoriteSongsAPI';\n\nclass FavoriteChkBox extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      checked: false,\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.favoriteCheck();\n  }\n\n  handleClick = async ({ target }) => {\n    const { albumTracks } = this.props;\n    const { id } = target;\n    this.setState({\n      loading: true,\n    });\n\n    const favTracks = await getFavoriteSongs();\n\n    const isFav = favTracks.some((track) => track.trackId\n    === parseInt(id, 10));\n\n    if (isFav) {\n      const trackToRemove = albumTracks\n        .find((track) => track.trackId === parseInt(id, 10));\n      await removeSong(trackToRemove);\n      await this.favoriteCheck();\n    } else {\n      const favTrack = albumTracks\n        .find((track) => track.trackId === parseInt(id, 10));\n      await addSong(favTrack);\n      await this.favoriteCheck();\n    }\n  }\n\n  favoriteCheck = async () => {\n    const { track } = this.props;\n    const favTracks = await getFavoriteSongs();\n    const isFav = favTracks.some((currTrack) => currTrack.trackId === track.trackId);\n    this.setState({\n      checked: isFav,\n      loading: false,\n    });\n  };\n\n  render() {\n    const { track } = this.props;\n    const { checked, loading } = this.state;\n    if (loading) {\n      return (\n        <Loading />\n      );\n    }\n    return (\n      <label\n        htmlFor={ track.trackId }\n      >\n        Favorita\n        <input\n          defaultChecked={ checked }\n          type=\"checkbox\"\n          id={ track.trackId }\n          data-testid={ `checkbox-music-${track.trackId}` }\n          onClick={ this.handleClick }\n        />\n      </label>\n    );\n  }\n}\n\nFavoriteChkBox.propTypes = {\n  albumTracks: PropTypes.arrayOf(PropTypes.object).isRequired,\n  track: PropTypes.shape({\n    trackId: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default FavoriteChkBox;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FavoriteChkBox from './favoriteChkBox';\n\nclass MusicCard extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      // loading: true,\n    };\n  }\n\n  render() {\n    const { albumTracks } = this.props;\n    return (\n      <div className=\"track-listing\">\n        {albumTracks.map((track) => (\n          <div key={ track.trackId }>\n            <p>{`${track.trackName}`}</p>\n            <audio\n              data-testid=\"audio-component\"\n              src={ track.previewUrl }\n              controls\n            >\n              <track kind=\"captions\" />\n              O seu navegador não suporta o elemento\n              <code>audio</code>\n              .\n            </audio>\n            <FavoriteChkBox\n              favTrackListLoad={ this.loaded }\n              albumTracks={ albumTracks }\n              track={ track }\n              updateLoading={ this.updateLoading }\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  albumTracks: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default MusicCard;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/header';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../components/musicCard';\nimport Loading from '../components/loading';\n\nclass Album extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      album: [],\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    this.fetch();\n  }\n\n  fetch = async () => {\n    this.setState({\n      loading: true,\n    });\n    const { match: { params: { id } } } = this.props;\n    const album = await getMusics(id);\n    this.setState({\n      album,\n    }, () => {\n      this.setState({\n        loading: false,\n      });\n    });\n  }\n\n  render() {\n    const { album, loading } = this.state;\n    if (album.length > 0) {\n      const [albumInfo, ...albumTracks] = album;\n      return (\n        <div data-testid=\"page-album\">\n          <Header />\n          <section className=\"track-listing\">\n            <h1 data-testid=\"artist-name\">{albumInfo.artistName}</h1>\n            <h2 data-testid=\"album-name\">{albumInfo.collectionName}</h2>\n            <img src={ albumInfo.artworkUrl100 } alt=\"album\" />\n            {loading\n              ? <Loading />\n              : <MusicCard albumTracks={ albumTracks } />}\n          </section>\n\n        </div>\n      );\n    }\n    return (\n      <div data-testid=\"page-album\">\n        <Header />\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default Album;\n","import React, { Component } from 'react';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport MusicCard from './musicCard';\nimport Loading from './loading';\n\nclass FavTrackList extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      favTracks: [],\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    this.saveFavTracks();\n  }\n\n  saveFavTracks = async () => {\n    const favTracks = await getFavoriteSongs();\n    this.setState({\n      favTracks,\n    });\n  }\n\n  render() {\n    const { favTracks, loading } = this.state;\n    if (loading) {\n      return <Loading />;\n    }\n    return <MusicCard albumTracks={ favTracks } favListReload={ this.loaded } />;\n  }\n}\n\nexport default FavTrackList;\n","import React, { Component } from 'react';\nimport Header from '../components/header';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport Loading from '../components/loading';\nimport FavTrackList from '../components/favTrackList';\n\nclass Favorites extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  renderFavTracks = async () => {\n    const favTracks = await getFavoriteSongs();\n    console.log(favTracks);\n    // return favTracks.map((track) => console.log(track));\n  }\n\n  render() {\n    const { loading } = this.state;\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n        {loading\n          ? <Loading />\n          : <FavTrackList />}\n\n      </div>\n    );\n  }\n}\nexport default Favorites;\n","import React, { Component } from 'react';\nimport Header from '../components/header';\n\nclass Profile extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile\">\n        <Header />\n        Profile\n      </div>\n    );\n  }\n}\nexport default Profile;\n","import React, { Component } from 'react';\nimport Header from '../components/header';\n\nclass ProfileEdit extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        Profile Edit\n      </div>\n    );\n  }\n}\nexport default ProfileEdit;\n","import React, { Component } from 'react';\n\nclass NotFound extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-not-found\">\n        Not Found\n      </div>\n    );\n  }\n}\nexport default NotFound;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Login from './pages/login';\nimport Search from './pages/search';\nimport Album from './pages/album';\nimport Favorites from './pages/favorites';\nimport Profile from './pages/profile';\nimport ProfileEdit from './pages/profile-edit';\nimport NotFound from './pages/not-found';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route\n            exact\n            path=\"/project-soundsystem\"\n            component={ Login }\n          />\n          <Route\n            path=\"/project-soundsystem/search\"\n            component={ Search }\n          />\n          <Route\n            path=\"/project-soundsystem/album/:id\"\n            component={ Album }\n          />\n          <Route\n            path=\"/project-soundsystem/favorites\"\n            component={ Favorites }\n          />\n          <Route\n            path=\"/project-soundsystem/profile/edit\"\n            component={ ProfileEdit }\n          />\n          <Route\n            path=\"/project-soundsystem/profile\"\n            component={ Profile }\n          />\n          <Route\n            path=\"*\"\n            component={ NotFound }\n          />\n        </Switch>\n      </BrowserRouter>\n\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}